---
layout: single
title: 2024/062024/06/10/ JDBC -04 -ex-app
---
## ExcuteApp
 handle excute method -shorcut
### Program Flow 
- **ecuting SQL Commands**:

- The program executes an SQL command using `Statement.execute(String sql)`, which returns a boolean indicating the type of SQL command executed:
    - `true` if a DQL (SELECT) command is executed. -> for Select 
    - `false` if a DML (INSERT, UPDATE, DELETE) ~~or DDL (CREATE, ALTER, DROP)~~ command is executed. - > for Inset,update,delete

- **Handling Results**:
- If the executed command is a DQL (SELECT), the result is processed using a `ResultSet`. 
- If the executed command is a DML ~~or DDL,~~ the number of affected rows is retrieved using `Statement.getUpdateCount()`.
## Full Code
```
public class ExecuteApp {
    public static void main(String[] args) throws SQLException {
        Connection con = ConnectionFactory.getConnection();
        Statement stmt = con.createStatement();

        // Example SQL command (update or select)
        // String sql="update student set address='수원시 팔달구' where no=2000";
        String sql = "select no, name, address from student order by no";

        // Statement.execute(String sql): Executes any SQL command and returns a boolean
        // => false: When a DML or DDL command is executed
        // => true: When a DQL (SELECT) command is executed
        boolean result = stmt.execute(sql);

        if (result) { // When a DQL (SELECT) command is executed
            // Statement.getResultSet(): Retrieves the ResultSet for the executed SELECT command
            ResultSet rs = stmt.getResultSet();

            while (rs.next()) {
                System.out.println("id" = " + rs.getInt("no") + ", name= " + rs.getString("name")
                        + ", address = " + rs.getString("address"));
            }

            ConnectionFactory.close(con, stmt, rs);
        } else { // When a DML or DDL command is executed
            // Statement.getUpdateCount(): Retrieves the update count for the executed DML or DDL command
            int rows = stmt.getUpdateCount();

            System.out.println("[error]" + rows + "student infor has been updated ");

            ConnectionFactory.close(con, stmt);
        }
        System.out.println("==============================================================");
    }
}
```

